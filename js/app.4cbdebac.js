(function(e){function t(t){for(var i,o,s=t[0],c=t[1],u=t[2],l=0,m=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);d&&d(t);while(m.length)m.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,o=1;o<n.length;o++){var s=n[o];0!==a[s]&&(i=!1)}i&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var i={},o={app:0},a={app:0},r=[];function s(e){return c.p+"js/"+({routes:"routes"}[e]||e)+"."+{routes:"28a3cd6a"}[e]+".js"}function c(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={routes:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var i="css/"+({routes:"routes"}[e]||e)+"."+{routes:"c9b123ed"}[e]+".css",a=c.p+i,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var u=r[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===i||l===a))return t()}var m=document.getElementsByTagName("style");for(s=0;s<m.length;s++){u=m[s],l=u.getAttribute("data-href");if(l===i||l===a)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var i=t&&t.target&&t.target.src||a,r=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=i,delete o[e],d.parentNode.removeChild(d),n(r)},d.href=a;var h=document.getElementsByTagName("head")[0];h.appendChild(d)})).then((function(){o[e]=0})));var i=a[e];if(0!==i)if(i)t.push(i[2]);else{var r=new Promise((function(t,n){i=a[e]=[t,n]}));t.push(i[2]=r);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(e);var m=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(d);var n=a[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;m.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",m.name="ChunkLoadError",m.type=i,m.request=o,n[1](m)}a[e]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=i,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)c.d(n,i,function(t){return e[t]}.bind(null,i));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var m=0;m<u.length;m++)t(u[m]);var d=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0a3a":function(e,t,n){"use strict";n("3b91")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},15:function(e,t){},16:function(e,t){},2:function(e,t){},3:function(e,t){},"3b91":function(e,t,n){},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("a481"),n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),o=n("d437"),a=n.n(o),r=n("d421"),s=n.n(r),c=n("3702"),u=n.n(c),l=n("3e8b"),m=n.n(l),d=n("98b7"),h=n.n(d),p=n("dc4b"),f=n.n(p),b=n("5d92"),v=n.n(b),g=n("eed0"),_=n.n(g),k=n("e62c"),w=n.n(k),S=n("c713"),C=n.n(S),x=n("10a1"),y=n.n(x),A=n("b3ee"),B=n.n(A),E=n("46db"),N=n.n(E),T=n("68d6"),P=n.n(T),O=n("cf3f"),$=n.n(O),L=n("d0ba"),I=n.n(L),F=n("8f6b"),R=n.n(F),D=n("d553"),V=n.n(D),j=n("6a6f"),U=n.n(j),K=n("fa50"),M=n.n(K),H=n("e1f0"),G=n.n(H),q=n("9861"),W=n.n(q),z=n("535c"),J=n.n(z),Y=n("341d"),X=n.n(Y),Z=n("5933"),Q=n.n(Z),ee=n("9f3b"),te=n.n(ee),ne=n("f3ef"),ie=n.n(ne),oe=n("25b1"),ae=n.n(oe),re=n("49f8"),se=n.n(re),ce=n("9b13"),ue=n.n(ce),le=n("3ace"),me=n.n(le),de=n("db3b"),he=n.n(de),pe=n("12d0"),fe=n.n(pe),be=n("4ec6"),ve=n.n(be),ge=n("2330"),_e=n.n(ge);n("da64");i["default"].use(a.a,{components:{VApp:s.a,VAlert:u.a,VAvatar:m.a,VBadge:h.a,VBreadcrumbs:f.a,VBtn:v.a,VBtnToggle:_.a,VBottomNav:w.a,VCard:C.a,VCheckbox:y.a,VChip:B.a,VDataTable:N.a,VDialog:$.a,VDivider:P.a,VFooter:I.a,VForm:R.a,VGrid:V.a,VIcon:U.a,VImg:M.a,VList:G.a,VMenu:W.a,VNavigationDrawer:J.a,VProgressCircular:X.a,VProgressLinear:Q.a,VTabs:ue.a,VSwitch:te.a,VSelect:me.a,VSpeedDial:ie.a,VSnackbar:ae.a,VSubheader:se.a,VTextField:he.a,VToolbar:fe.a,VTooltip:ve.a,transitions:_e.a}});var ke=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[e.$route.meta.public?[t("transition",[t("keep-alive",[t("router-view")],1)],1)]:[t("v-app",{staticClass:"app",attrs:{id:"inspire"}},[t("v-content",[t("v-container",{attrs:{fluid:"",wrap:"","grid-list-md":"","align-start":"","justify-space-between":""}},[t("router-view",{attrs:{minioClient:e.minioClient,minio:e.minio,openFaaS:e.openFaaS}})],1)],1)],1)],t("v-snackbar",{attrs:{center:"",top:"",color:e.snackbar.color,timeout:e.snackbar.timeout},on:{"show-snackbar":e.onShowSnackbar},model:{value:e.snackbar.showBucketContent,callback:function(t){e.$set(e.snackbar,"showBucketContent",t)},expression:"snackbar.showBucketContent"}},[e._v("\n    "+e._s(e.snackbar.text)+"\n    "),t("v-btn",{attrs:{dark:"",flat:"",icon:""},on:{click:function(t){e.snackbar.show=!1}}},[t("v-icon",[e._v("close")])],1)],1)],2)},we=[],Se=(n("7f7f"),n("ac6a"),n("76b9")),Ce=n("63e1"),xe=[{name:"APP_LOGIN_SUCCESS",callback:function(e){this.$router.push({path:"dashboard"})}},{name:"APP_LOGOUT",callback:function(e){this.snackbar={showBucketContent:!0,color:"green",text:"Logout successfully."},this.$router.replace({path:"/login"})}},{name:"APP_PAGE_LOADED",callback:function(e){}},{name:"APP_AUTH_FAILED",callback:function(e){this.$router.push("/login"),this.$message.error("Token has expired")}},{name:"APP_BAD_REQUEST",callback:function(e){this.$message.error(e)}},{name:"APP_ACCESS_DENIED",callback:function(e){this.$message.error(e),this.$router.push("/forbidden")}},{name:"APP_RESOURCE_DELETED",callback:function(e){this.$message.success(e)}},{name:"APP_RESOURCE_UPDATED",callback:function(e){this.$message.success(e)}},{name:"APP_SHOW_SNACKBAR",callback:function(e){}},{name:"FUNC_GET_FUNCTIONS_LIST",callback:function(e){}},{name:"FILE_UPLOADED",callback:function(e){}},{name:"REFRESH_BUCKETS_LIST",callback:function(e){}},{name:"STORAGE_BUCKETS_COUNT",callback:function(e){}}],ye=n("ad23"),Ae={name:"App",components:{AppDrawer:Se["a"],AppToolbar:Ce["a"],AppEvents:xe},data:function(){return{expanded:!0,rightDrawer:!1,snackbar:{showBucketContent:!1,auth:"",text:"",color:"",timeout:6e3},breadcrumbList:{},minio:{endpoint:"minio-service.minio",port:9e3,useSSL:!1,accessKey:"minio",secretKey:"minio123",showSecretKey:!1},openFaaS:{endpoint:"http://oscar-manager.oscar:8080/functions",port:null},minioClient:{}}},computed:{},created:function(){var e=this;this.auth=localStorage.getItem("authenticated"),xe.forEach((function(t){e.$on(t.name,t.callback)})),window.getApp=this,window.getApp.$on("APP_SHOW_SNACKBAR",(function(t){e.onShowSnackbar(t)})),window.getApp.$on("MINIO_RECONNECT",(function(){e.createMinioClient()})),this.createMinioClient()},methods:{onShowSnackbar:function(e){this.snackbar.text=e.text,this.snackbar.color=e.color,this.snackbar.timeout=e.timeout,this.snackbar.showBucketContent=!0},createMinioClient:function(){this.minioClient=null,this.minioClient=new ye["Client"]({endPoint:this.minio.endpoint,port:this.minio.port,useSSL:this.minio.useSSL,accessKey:this.minio.accessKey,secretKey:this.minio.secretKey})}},watch:{$route:function(){this.breadcrumbList=this.$route.meta.breadcrumb}}},Be=Ae,Ee=n("2877"),Ne=Object(Ee["a"])(Be,ke,we,!1,null,null,null),Te=Ne.exports,Pe=n("8c4f"),Oe=[{path:"*",meta:{public:!0},redirect:{path:"/404"}},{path:"/404",meta:{public:!0},name:"NotFound",component:function(){return n.e("routes").then(n.bind(null,"1028"))}},{path:"/403",meta:{public:!0},name:"AccessDenied",component:function(){return n.e("routes").then(n.bind(null,"c35f"))}},{path:"/500",meta:{public:!0},name:"ServerError",component:function(){return n.e("routes").then(n.bind(null,"344e"))}},{path:"/login",meta:{public:!0},name:"Login",component:function(){return n.e("routes").then(n.bind(null,"a55b"))}},{path:"/terms-of-use",meta:{public:!0},name:"TermOfUse",component:function(){return n.e("routes").then(n.bind(null,"e3db5"))}},{path:"/privacy-policy",meta:{public:!0},name:"Privacy",component:function(){return n.e("routes").then(n.bind(null,"6f9f"))}},{path:"/",meta:{public:!1},name:"Root",redirect:{name:"Functions"}},{path:"/services",meta:{public:!1},name:"Layout",component:function(){return n.e("routes").then(n.bind(null,"8bf1"))},children:[{path:"/services",meta:{public:!1},name:"Functions",component:function(){return n.e("routes").then(n.bind(null,"7949"))}},{path:"/logs/:serviceName",meta:{public:!1},name:"Logs",component:function(){return n.e("routes").then(n.bind(null,"bbae"))}},{path:"/settings",meta:{public:!1},name:"Settings",component:function(){return n.e("routes").then(n.bind(null,"26d3"))},props:!0},{path:"/buckets/:bucketName",meta:{public:!1},name:"BucketContent",component:function(){return n.e("routes").then(n.bind(null,"968f"))},props:!0}]}];i["default"].use(Pe["a"]);var $e=new Pe["a"]({base:"/",linkActiveClass:"active",routes:Oe});$e.beforeEach((function(e,t,n){if(e.meta.public)n();else{var i=localStorage.getItem("authenticated");"undefined"!=typeof i&&"true"==i?n():n("/login")}})),$e.afterEach((function(e,t){}));var Le=$e,Ie=(n("ddb8"),n("8c89")),Fe=n.n(Ie),Re=n("3d20"),De=n.n(Re);i["default"].config.productionTip=!1,window.axios=n("bc3a"),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",window.Swal=De.a,window.axios.interceptors.request.use((function(e){var t=JSON.parse(localStorage.getItem("session"));if(t&&t["user"]&&t["user"]["access_token"]){var n=t.user.access_token;e.headers.common["Authorization"]="Bearer ".concat(n)}return e}),(function(e){return console.log(e),this.$router.replace(this.$route.query.redirect||"/logout"),Promise.reject(e.response)})),window.axios.interceptors.response.use((function(e){return e&&401===e.status&&setTimeout((function(){window.Swal.fire({title:"Authentication error!",text:"Your session expired.",icon:"error",confirmButtonText:"OK",confirmButtonColor:"#d33"}).then((function(e){e.isConfirmed&&(localStorage.clear(),window.location="".concat(location.origin,"/login"))}))}),50),e}),(function(e){var t=0;if(e.response?t=1*e.response.status:console.log("Error",e.message),401!==t)return Promise.reject(e);setTimeout((function(){window.Swal.fire({title:"Authentication error!",text:"Your session expired.",icon:"error",confirmButtonText:"OK",confirmButtonColor:"#d33"}).then((function(e){e.isConfirmed&&(localStorage.clear(),window.location="".concat(location.origin,"/login"))}))}),50)})),i["default"].mixin({data:function(){return{env:Fe.a}}}),new i["default"]({router:Le,render:function(e){return e(Te)}}).$mount("#app")},6:function(e,t){},"63e1":function(e,t,n){"use strict";var i=function(){var e=this,t=e._self._c;return t("v-toolbar",{attrs:{color:"teal darken-1",fixed:"",dark:"",app:""}},[t("v-toolbar-side-icon",{on:{click:function(t){return t.stopPropagation(),e.handleDrawerToggle.apply(null,arguments)}}}),t("v-btn",{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.handleDrawerMini.apply(null,arguments)}}},[t("v-icon",{domProps:{innerHTML:e._s(e.mini?"chevron_right":"chevron_left")}})],1),t("v-spacer"),t("v-btn",{attrs:{icon:""},on:{click:function(t){return e.handleFullScreen()}}},[t("v-icon",[e._v("fullscreen")])],1)],1)},o=[],a=function(){var e=this,t=e._self._c;return t("v-card",{staticClass:"elevation-0"},[t("v-toolbar",{attrs:{card:"",dense:"",color:"transparent"}},[t("v-toolbar-title",[t("h4",[e._v("Notification")])])],1),t("v-divider"),t("v-card-text",{staticClass:"pa-0"},[t("v-list",{staticClass:"pa-0",attrs:{"two-line":""}},[e._l(e.items,(function(n,i){return[n.header?t("v-subheader",{key:n.header},[e._v(e._s(n.header))]):n.divider?t("v-divider",{key:i}):t("v-list-tile",{key:n.title,attrs:{avatar:""},on:{click:e.handleClick}},[t("v-list-tile-avatar",{attrs:{color:n.color}},[t("v-icon",{attrs:{dark:""}},[e._v(e._s(n.icon))])],1),t("v-list-tile-content",[t("v-list-tile-sub-title",{domProps:{innerHTML:e._s(n.title)}})],1),t("v-list-tile-action",{staticClass:"caption"},[e._v("\n            "+e._s(n.timeLabel)+"\n          ")])],1)]}))],2),t("v-divider"),t("v-btn",{staticClass:"ma-0",attrs:{block:"",flat:""}},[e._v("All")]),t("v-divider")],1)],1)},r=[],s={data:function(){return{items:[]}},methods:{handleClick:function(e){console.log(e)}}},c=s,u=n("2877"),l=Object(u["a"])(c,a,r,!1,null,null,null),m=l.exports,d=(n("a481"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e[Math.floor(Math.random()*e.length)]}),h=function(e){return(e||"").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},p=function(){var e=window.document,t=e.documentElement,n=t.requestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullScreen||t.msRequestFullscreen,i=e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen;e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement?i.call(e):n.call(t)},f={randomElement:d,toggleFullScreen:p,kebab:h},b={name:"app-toolbar",components:{NotificationList:m},data:function(){return{mini:!1,items:[{icon:"account_circle",href:"#",title:"Profile",click:function(e){console.log(e)}},{icon:"settings",href:"#",title:"Settings",click:function(e){console.log(e)}},{icon:"fullscreen_exit",href:"#",title:"Logout",click:function(e){window.getApp.$emit("APP_LOGOUT")}}],notificationCounter:3}},computed:{notificationShow:function(){return this.notificationCounter>0}},methods:{handleDrawerToggle:function(){window.getApp.$emit("APP_DRAWER_TOGGLED")},handleDrawerMini:function(){this.mini=!this.mini,window.getApp.$emit("APP_DRAWER_MINI")},handleFullScreen:function(){f.toggleFullScreen()}}},v=b,g=Object(u["a"])(v,i,o,!1,null,null,null);t["a"]=g.exports},7:function(e,t){},"76b9":function(e,t,n){"use strict";n("7f7f");var i=function(){var e=this,t=e._self._c;return t("v-navigation-drawer",{attrs:{id:"appDrawer",clipped:e.clipped,"mini-variant":e.mini,fixed:"",dark:e.$vuetify.dark,app:"",width:"260"},on:{"update:miniVariant":function(t){e.mini=t},"update:mini-variant":function(t){e.mini=t}},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[t("v-toolbar",{attrs:{color:"teal darken-1",dark:""}},[t("img",{attrs:{src:n("cf05"),height:"40",alt:"OSCAR"}}),t("v-toolbar-title",{staticClass:"ml-0 pl-3"},[t("span",[e._v("OSCAR")])])],1),t("vue-perfect-scrollbar",{staticClass:"drawer-menu--scroll",attrs:{settings:e.scrollSettings}},[t("v-subheader",[e._v("Apps")]),t("v-flex",{attrs:{row:"",xs12:""}},[t("v-btn",{attrs:{id:"btn_funct",depressed:"",round:"",flat:"",block:"",small:""},nativeOn:{click:function(t){return e.collapse("btn_funct")}}},[t("v-icon",{staticStyle:{"padding-right":"12px"},attrs:{left:""}},[e._v("dashboard")]),t("span",{directives:[{name:"show",rawName:"v-show",value:0==this.mini,expression:"this.mini==false"}]},[e._v("Services")])],1)],1),t("v-flex",{attrs:{row:"",xs12:""}},[t("v-btn",{attrs:{id:"btn_storage",depressed:"",round:"",flat:"",block:"",small:""},nativeOn:{click:function(t){return e.collapse("btn_storage")}}},[t("v-icon",{staticStyle:{"padding-right":"12px"},attrs:{id:"icloud",left:""}},[e._v("cloud")]),t("span",{directives:[{name:"show",rawName:"v-show",value:0==this.mini,expression:"this.mini==false"}]},[e._v("Minio Storage")]),t("v-spacer"),t("v-icon",{directives:[{name:"show",rawName:"v-show",value:0==this.mini,expression:"this.mini==false"}],attrs:{id:"expand_sto",right:""}},[e._v(e._s(e.expand_sto))])],1)],1),t("v-flex",{attrs:{xs10:"","offset-xs2":"",id:"name_buckets"}},[e._l(e.menus,(function(n){return[n.items?t("v-list",{key:n.name,attrs:{id:n.title,group:n.group,"prepend-icon":n.icon,"no-action":""}},[t("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[t("v-list-tile-content",[t("v-list-tile-title",[e._v(e._s(n.title))])],1)],1),e._l(n.items,(function(n,i){return t("v-list-tile",{key:i,attrs:{to:{path:n.to}},model:{value:n.active,callback:function(t){e.$set(n,"active",t)},expression:"subItem.active"}},[t("v-list-tile-action",{staticStyle:{"font-size":"13px"}},[t("span",[e._v(e._s(n.title))])])],1)})),t("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.menucreate,expression:"!menucreate"}],staticClass:"white--text",attrs:{id:"menu_create",flat:"",color:"blue-grey"},on:{click:function(t){e.menucreate=!0}}},[t("v-icon",{attrs:{left:"",ligth:"",color:"blue"}},[e._v("add_circle")]),e._v("Create Bucket")],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.menucreate,expression:"menucreate"}],staticClass:"form-group",staticStyle:{margin:"10px"}},[t("div",{staticClass:"input-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newBucketName,expression:"newBucketName"}],staticClass:"form-control",staticStyle:{"border-right":"none","border-left":"none","border-top":"none",hover:""},attrs:{type:"text",id:"bucketname",placeholder:"Bucket name",autofocus:""},domProps:{value:e.newBucketName},on:{input:function(t){t.target.composing||(e.newBucketName=t.target.value)}}}),t("div",{staticClass:"input-group-append mr-2"},[t("button",{attrs:{type:"button"},on:{click:function(t){return e.createBucket(e.newBucketName)}}},[t("v-icon",{attrs:{left:"",color:"green"}},[e._v("check_circle")])],1),t("button",{attrs:{type:"button"},on:{click:function(t){return e.cleanfield()}}},[t("v-icon",{attrs:{left:"",color:"red"}},[e._v("cancel")])],1)]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],staticStyle:{color:"#cc3300","font-size":"12px"}},[t("b",[e._v("Bucket name is required")])])])])],2):e._e()]}))],2),t("v-flex",{attrs:{row:"",xs12:""}},[t("v-btn",{attrs:{id:"btn_logout",depressed:"",round:"",flat:"",block:"",small:""},nativeOn:{click:function(t){return e.collapse("btn_logout")}}},[t("v-icon",{staticStyle:{"padding-right":"12px"},attrs:{left:""}},[e._v("exit_to_app")]),t("span",{directives:[{name:"show",rawName:"v-show",value:0==this.mini,expression:"this.mini==false"}]},[e._v("Log Out")])],1)],1)],1)],1)},o=[],a=(n("7514"),n("a481"),n("55dd"),[{header:"Apps"},{title:"Dashboard",group:"apps",icon:"dashboard",name:"Dashboard"},{title:"Storage",group:"apps",icon:"cloud",name:"Storage",active:!1,items:[]},{title:"Functions",group:"apps",icon:"functions",name:"Functions"},{title:"Settings",group:"apps",icon:"settings",name:"Settings"},{title:"Log Out",group:"apps",icon:"exit_to_app",name:"Login"}]);a.forEach((function(e){e.items&&e.items.sort((function(e,t){var n=e.title.toUpperCase(),i=t.title.toUpperCase();return n<i?-1:n>i?1:0}))}));var r=a,s=(n("bc3a"),n("cdb4")),c=n("9d63"),u=n.n(c),l={name:"app-drawer",mixins:[s["a"]],components:{VuePerfectScrollbar:u.a},props:{expanded:{type:Boolean,default:!0},openFaaS:{}},data:function(){return{error:!1,clipped:!1,test:!0,mini:!1,drawer:!0,drawer2:!1,expand_sto:"expand_more",menus:r,scrollSettings:{maxScrollbarLength:160},buckets:[],menucreate:!1,menuname:!1,deleteBucketName:"",newBucketName:""}},computed:{computeLogo:function(){return"@/assets/logo.png"}},created:function(){var e=this;window.getApp.$on("APP_DRAWER_TOGGLED",(function(){e.drawer=!e.drawer,e.menucreate=!1})),window.getApp.$on("APP_DRAWER_MINI",(function(){e.mini=!e.mini,e.menucreate=!1})),this.getBucketsList(),window.getApp.$on("REFRESH_BUCKETS_LIST",(function(){e.getBucketsList()}))},mounted:function(){window.getApp.$emit("STORAGE_BUCKETS_COUNT",this.buckets.length);var e=this;this.$nextTick((function(){"Dashboard"==e.$route.name?$("#btn_dash").css("color","#0056b3"):"Functions"==e.$route.name?$("#btn_funct").css("color","#0056b3"):"Settings"==e.$route.name?$("#btn_sett").css("color","#0056b3"):"BucketContent"==e.$route.name&&($("#btn_storage").css("color","#0056b3"),$("#name_buckets").css("display","block"))}))},methods:{getEndpointCallback:function(e){this.getBucketListCall(this.getBucketListCallBack)},collapse:function(e){$("#btn_dash").css("color","#000!important"),$("#btn_funct").css("color","#000!important"),$("#btn_sett").css("color","#000!important"),$("#btn_logout").css("color","#000!important"),$("#btn_storage").css("color","#000!important"),"btn_dash"==e?this.$router.push({name:"Dashboard"}):"btn_funct"==e?this.$router.push({name:"Functions"}):"btn_sett"==e?this.$router.push({name:"Settings"}):"btn_logout"==e?this.$router.push({name:"Login"}):"btn_storage"==e&&($("#name_buckets").slideToggle("slow"),this.drawer2=!this.drawer2,"block"==$("#name_buckets").css("display")?$("#btn_storage").css("color","#0056b3"):$("#btn_storage").css("color","#ccc"),1==this.drawer2?(this.expand_sto="expand_less",window.getApp.$emit("REFRESH_BUCKETS_LIST")):0==this.drawer2&&(this.expand_sto="expand_more"))},cleanfield:function(){this.menucreate=!1,this.newBucketName=" "},createBucket:function(e){if(this.newBucketName.length>0){this.error=!1;var t={name:e.replace(/[^A-Z0-9]+/gi,"")};this.createBucketCall(t,this.createBucketCallBack)}else this.error=!0,this.error_message_text="Error"},createBucketCallBack:function(e){"success"==e?(window.getApp.$emit("APP_SHOW_SNACKBAR",{text:"Bucket ".concat(name," has been successfully created"),color:"success"}),window.getApp.$emit("REFRESH_BUCKETS_LIST"),window.getApp.$emit("BUCKETS_REFRESH_DASHBOARD")):"BucketAlreadyOwnedByYou"==e.code?window.getApp.$emit("APP_SHOW_SNACKBAR",{text:"The bucket already exists",color:"error"}):window.getApp.$emit("APP_SHOW_SNACKBAR",{text:err.message,color:"error"}),this.menu=!1,this.newBucketName=""},genChildTarget:function(e,t){if(this.test=!0,!t.href)return t.component?{name:t.component}:t.to?t.to:{name:t.name}},getBucketListCallBack:function(e){var t=this;this.buckets=e.map((function(e){return{title:e.name,to:"/buckets/".concat(e.name),active:!1}})),this.menus.find((function(e){"Storage"===e.title&&(e.items=t.buckets)}))},getBucketsList:function(){this.getBucketListCall(this.getBucketListCallBack)}}},m=l,d=(n("0a3a"),n("2877")),h=Object(d["a"])(m,i,o,!1,null,null,null);t["a"]=h.exports},8:function(e,t){},"8c89":function(e,t){e.exports={provider_url:"https://aai.egi.eu/auth/realms/egi/protocol/",client_id:"",redirect_uri:"".concat(location.origin,"/callback.html"),url_authorize:"https://aai.egi.eu/auth/realms/egi/protocol/openid-connect/auth",url_user_info:"https://aai.egi.eu/auth/realms/egi/protocol/openid-connect/userinfo",token_endpoint:"https://aai.egi.eu/auth/realms/egi/protocol/openid-connect/token",api:"",deploy_container:"false",minio_local_endpoint:"localhost",minio_local_port:"30300",minio_local_ssl:!1,response_default_minio:"minio.minio"}},9:function(e,t){},cdb4:function(e,t,n){"use strict";n("7f7f");var i=n("c4e3"),o=n.n(i),a=n("0083"),r=n.n(a);n("8c89");t["a"]={data:function(){return{api:localStorage.getItem("api"),minioClient:"",username_auth:"",password_auth:""}},created:function(){this.username_auth=localStorage.getItem("user"),this.password_auth=localStorage.getItem("password");var e=localStorage.getItem("endpoint"),t=localStorage.getItem("port"),i="true"===localStorage.getItem("useSSL"),o=localStorage.getItem("accessKey"),a=localStorage.getItem("secretKey");this.api=localStorage.getItem("api");var r=n("ad23");this.minioClient=new r.Client({endPoint:e,port:parseInt(t),useSSL:i,accessKey:o,secretKey:a}),this.minioClient.setRequestOptions({rejectUnauthorized:!1})},methods:{checkIfToken:function(){var e=JSON.parse(localStorage.getItem("session"));return!!(e&&e["user"]&&e["user"]["access_token"])},checkLoginCall:function(e,t){var n=this.checkIfToken();n?axios({method:"get",url:e.api+"/system/info"}).then(function(e){t(e.status)}.bind(this)).catch((function(e){t(e.response.status)})):axios({method:"get",url:e.api+"/system/info",auth:{username:e.user,password:e.password}}).then(function(e){t(e.status)}.bind(this)).catch((function(e){t(e.response.status)}))},listServicesCall:function(e){var t=this.checkIfToken();t?axios({method:"get",url:this.api+"/system/services"}).then(function(t){e(t)}.bind(this)).catch((function(t){e(t)})):axios({method:"get",url:this.api+"/system/services",auth:{username:this.username_auth,password:this.password_auth}}).then(function(t){e(t)}.bind(this)).catch((function(t){e(t)}))},deleteServiceCall:function(e,t){var n=this.checkIfToken();n?axios({method:"delete",url:this.api+"/system/services/"+e,data:e}).then(function(e){t(e)}.bind(this)).catch((function(e){t(e)})):axios({method:"delete",url:this.api+"/system/services/"+e,auth:{username:this.username_auth,password:this.password_auth},data:e}).then(function(e){t(e)}.bind(this)).catch((function(e){t(e)}))},listJobsCall:function(e,t){this.checkIfToken();axios({method:"get",url:this.api+"/system/logs/"+e,auth:{username:this.username_auth,password:this.password_auth}}).then(function(e){t(e.data)}.bind(this)).catch((function(e){t(e)}))},deleteJobCall:function(e,t){var n=this.checkIfToken();n?axios({method:"delete",url:this.api+"/system/logs/"+e.serviceName+"/"+e.jobName,data:e}).then(function(e){t(e)}.bind(this)).catch((function(e){t(e)})):axios({method:"delete",url:this.api+"/system/logs/"+e.serviceName+"/"+e.jobName,auth:{username:this.username_auth,password:this.password_auth},data:e}).then(function(e){t(e)}.bind(this)).catch((function(e){t(e)}))},listJobNameCall:function(e,t){var n=this.checkIfToken();n?axios({method:"get",url:this.api+"/system/logs/"+e.serviceName+"/"+e.jobName}).then(function(e){t(e)}.bind(this)).catch((function(e){t(e)})):axios({method:"get",url:this.api+"/system/logs/"+e.serviceName+"/"+e.jobName,auth:{username:this.username_auth,password:this.password_auth}}).then(function(e){t(e)}.bind(this)).catch((function(e){t(e)}))},deleteAllJobCall:function(e,t){var n=this.checkIfToken();n?axios({method:"delete",url:this.api+"/system/logs/"+e.serviceName+"?all="+e.all}).then(function(e){t(e)}.bind(this)).catch((function(e){t(e)})):axios({method:"delete",url:this.api+"/system/logs/"+e.serviceName+"?all="+e.all,auth:{username:this.username_auth,password:this.password_auth}}).then(function(e){t(e)}.bind(this)).catch((function(e){t(e)}))},createServiceCall:function(e,t){var n=this.checkIfToken();n?axios({method:"post",url:this.api+"/system/services",data:e}).then((function(e){t(e)})).catch((function(e){t(e)})):axios({method:"post",url:this.api+"/system/services",auth:{username:this.username_auth,password:this.password_auth},data:e}).then((function(e){t(e)})).catch((function(e){t(e)}))},editServiceCall:function(e,t){var n=this.checkIfToken();n?axios({method:"put",url:this.api+"/system/services",data:e}).then((function(e){t(e)})).catch((function(e){t(e)})):axios({method:"put",url:this.api+"/system/services",auth:{username:this.username_auth,password:this.password_auth},data:e}).then((function(e){t(e)})).catch((function(e){t(e)}))},getBucketListCall:function(e){this.minioClient.listBuckets((function(t,n){e(t||n)}))},createBucketCall:function(e,t){this.minioClient.makeBucket(e.name,(function(e,n){t(e||"success")}))},bucketExistCall:function(e,t){this.minioClient.bucketExists(e.name,(function(e,n){e?(t(e),window.getApp.$emit("APP_SHOW_SNACKBAR",{text:e.message,color:"error"})):t("success")}))},getBucketFilesCall:function(e,t){var n=this.minioClient.listObjectsV2(e.name,e.prefix,!0),i={err:"",files:[]};n.on("data",(function(e){i.files.push(e)})),n.on("error",(function(e){i["err"]=e})),n.on("end",(function(e){t(i)}))},previewFileCall:function(e,t){this.minioClient.presignedUrl("GET",e.bucketName,e.fileName,3e4,(function(e,n){t(e||n)}))},urlToPromise:function(e){return new Promise((function(t,n){r.a.getBinaryContent(e,(function(e,i){e?n(e):t(i)}))}))},downloadFileCall:function(e,t){var n=this,i=this;1==e.select?this.minioClient.presignedGetObject(e.bucketName,e.fileName[0],1500,(function(n,i){n?t(n):axios({url:i,method:"GET",responseType:e.response_type}).then((function(e){t(e)}))})):function(){for(var a=new o.a,r=a.folder("collection"),s=function(o){n.minioClient.presignedGetObject(e.bucketName,e.fileName[o],3e4,(function(n,a){if(n)t(n);else{var s=e.fileName[o].substr(e.fileName[o].lastIndexOf("/")+1);r.file(s,i.urlToPromise(a),{binary:!0})}}))},c=0;c<e.select;c++)s(c);t(r)}()},uploadFileCall:function(e,t){this.minioClient.presignedPutObject(e.bucketName,e.file_name,86400,(function(n,i){n?console.log(n):fetch(i,{method:"PUT",body:e.file}).then((function(){t("uploaded")})).catch((function(e){t(e)}))}))},removeFileCall:function(e,t){var n=[];n=e.fileName;for(var i=0;i<n.length;i++)this.minioClient.removeObject(e.bucketName,n[i],(function(e,n){t(e?error:"success")}))},removeBucketCall:function(e,t){var n=[],i=this,o=this.minioClient.listObjectsV2(e,"",!0);o.on("data",(function(e){n.push(e.name)})),o.on("error",(function(e){console.log(e)})),o.on("end",(function(){var o=n.length;if(0!=n.length)for(var a=0;a<n.length;a++)i.minioClient.removeObject(e,n[a],(function(n){if(n)return console.log("Unable to remove Objects ",n);o-=1,0==o&&i.minioClient.removeBucket(e,(function(e,n){t(e||"success")}))})),console.log("Removed the objects successfully");else i.minioClient.removeBucket(e,(function(e,n){console.log(e),t(e||"success")}))}))}}}},cf05:function(e,t,n){e.exports=n.p+"img/logo.1e141686.png"},ddb8:function(e,t){}});
//# sourceMappingURL=app.4cbdebac.js.map